parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"BHTa":[function(require,module,exports) {
"use strict";let e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class t{static render(t){const s=document.createDocumentFragment(),d=document.createElement("span");e=document.createElement("img"),d.classList.add("close"),d.innerHTML="Ã—",d.addEventListener("click",()=>{t.classList.remove("open"),document.body.classList.remove("photo-fullview-active")}),s.appendChild(e),s.appendChild(d),t.appendChild(s)}static open(t){e.setAttribute("width",t.width),e.setAttribute("height",t.height),e.setAttribute("src",t.urls.full),e.setAttribute("alt",t.alt_description),e.style.backgroundColor=t.color,e.parentNode.classList.add("open"),document.body.classList.add("photo-fullview-active")}}exports.default=t;
},{}],"c0zt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e={"min-width: 1500px":6,"min-width: 1200px":5,"min-width: 992px":4,"min-width: 768px":3,"min-width: 576px":2};let t,n;function r(e){i(e),s(e)}function i(e){e.classList.contains(`grid-masonry-cols-${o()}`)||(e.className=e.className.replace(/(grid-masonry-cols-\d+)/,""),e.classList.add(`grid-masonry-cols-${o()}`))}function o(){const t=Object.keys(e);for(const n of t)if(window.matchMedia(`(${n})`).matches)return e[n];return 1}function s(e){if([...e.querySelectorAll(".grid-masonry-break")].length!==o()-1)for(let t=1;t<o();t++){const n=document.createElement("div");n.classList.add("grid-masonry-break"),n.classList.add(`grid-masonry-break-${t}`),e.appendChild(n)}}function a(e){if(o()<2)return void e.style.removeProperty("height");const t=[];[...e.children].forEach(e=>{if(e.classList.contains("grid-masonry-break"))return;const n=window.getComputedStyle(e),r=n.getPropertyValue("order"),i=n.getPropertyValue("height");t[r-1]||(t[r-1]=0),t[r-1]+=Math.ceil(parseFloat(i))}),e.style.height=`${Math.max(...t)}px`}function c(){window.addEventListener("resize",d)}function d(){n&&window.cancelAnimationFrame(n),n=window.requestAnimationFrame(l)}function l(){i(t),m(t),s(t),a(t)}function m(e){const t=e.querySelectorAll(".grid-masonry-break");[...t].length!==o()-1&&[...t].forEach(e=>{e.remove()})}function u(){f()}function f(){window.removeEventListener("resize",d)}function h(e){t.insertBefore(e,document.querySelector(".grid-masonry-break")),l()}class y{static init(e){t=e,r(e),a(e),c(),y.appendNewItems=h,y.refresh=l,y.destroy=u}}exports.default=y;
},{}],"gRFT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=Object.freeze({unsplashNamespace:"https://api.unsplash.com",unsplashClientId:"8pKSNWaCfMUc9rx0FMlytsPJhdzo131I46PAbnbJ5_o"});exports.default=e;
},{}],"qvIC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../config/config"));function t(e){return e&&e.__esModule?e:{default:e}}function s(t){return fetch(e.default.unsplashNamespace+"/"+t,{method:"GET",headers:{Authorization:`Client-ID ${e.default.unsplashClientId}`}}).then(e=>e.json())}class a{static async getPhotos(e){return s(`photos?page=${e}&per_page=30`)}static async searchPhotos(e,t){return s(`search/photos?query=${e}&page=${t}&per_page=30`)}}exports.default=a;
},{"../../../config/config":"gRFT"}],"h3ft":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{static render(e,{photo:t,onZoom:i}){const l=document.createElement("div"),n=window.innerWidth;l.classList.add("grid-masonry-item"),l.insertAdjacentHTML("beforeend",`\n      <img width="${t.width}" height="${t.height}"\n        style="background-color: ${t.color}"\n        loading="lazy"\n        srcset="${t.urls.thumb} 200w,\n          ${t.urls.small} 400w,\n          ${t.urls.regular} 1080w"\n        sizes="(min-width: 1500px) ${Math.ceil(n/6)}px,\n          (min-width: 1200px) ${Math.ceil(n/5)}px,\n          (min-width: 992px) ${Math.ceil(n/4)}px,\n          (min-width: 768px) ${Math.ceil(n/3)}px,\n          (min-width: 576px) ${Math.ceil(n/2)}px"\n        src="${t.urls.regular}"\n        alt="${t.alt_description}"\n      >\n      <span class="like ${localStorage.getItem(`photo:${t.id}:liked`)?"liked":""}"></span>\n      <span class="zoom"></span>\n    `),l.addEventListener("click",({target:e})=>{e.matches(".like")?(localStorage.getItem(`photo:${t.id}:liked`)?localStorage.removeItem(`photo:${t.id}:liked`):localStorage.setItem(`photo:${t.id}:liked`,1),e.classList.toggle("liked")):e.matches(".zoom")&&i(t)}),e.appendChild(l)}}exports.default=e;
},{}],"VG3x":[function(require,module,exports) {
"use strict";function e(e,t,n,s){const i=document.createElement("div");let o,c;function r(){o=!o,i.classList.toggle("loading"),t===n&&(c=!0,i.classList.add("ended"))}i.setAttribute("id","sentinel"),e.appendChild(i);const d=new IntersectionObserver(async e=>{c||o||!e[0].isIntersecting||(r(),await s(++t),r())},{rootMargin:"0px",threshold:1}),{disconnect:a}=d;return d.disconnect=function(){i.remove(),a.apply(d,arguments)},d.observe(i),d}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"TN2J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../utils/grid-masonry")),t=s(require("../services/network-stuff")),o=s(require("./photo")),r=s(require("./photo-fullview")),a=s(require("../utils/infinite-scroll"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){r.default.open(e)}let u,d;class n{static async render(r,s){let i,c;if(document.body.scrollTop=document.documentElement.scrollTop=0,r.querySelector(".grid-masonry")&&r.querySelector(".grid-masonry").remove(),d&&d.disconnect(),u=s){const e=await t.default.searchPhotos(u,1);if(!(i=e.results).length)return void alert("No results found!");c=e.total_pages}else i=await t.default.getPhotos(1);const f=document.createElement("div");f.classList.add("grid-masonry"),i.forEach(e=>o.default.render(f,{photo:e,onZoom:l})),r.appendChild(f),e.default.init(f),d=(0,a.default)(r,1,c,n.loadMore)}static async loadMore(r){const a=document.createDocumentFragment();let s;(s=u?(await t.default.searchPhotos(u,r)).results:await t.default.getPhotos(r)).forEach(e=>o.default.render(a,{photo:e,onZoom:l})),e.default.appendNewItems(a)}}exports.default=n;
},{"../utils/grid-masonry":"c0zt","../services/network-stuff":"qvIC","./photo":"h3ft","./photo-fullview":"BHTa","../utils/infinite-scroll":"VG3x"}],"NZT1":[function(require,module,exports) {
"use strict";function e(e,t){let u;return function(){clearTimeout(u),u=setTimeout(()=>e.apply(this,arguments),t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"W64G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../utils/debounce"));function t(e){return e&&e.__esModule?e:{default:e}}class r{static render(t,r){const u=document.createElement("input");u.setAttribute("type","search"),u.setAttribute("placeholder","Search..."),u.setAttribute("aria-label","Search"),u.addEventListener("input",(0,e.default)(function(){r(this.value)},700)),t.appendChild(u)}}exports.default=r;
},{"../utils/debounce":"NZT1"}],"g2Hq":[function(require,module,exports) {
"use strict";var e=t(require("./components/photo-fullview")),r=t(require("./components/photo-grid")),o=t(require("./components/search-bar"));function t(e){return e&&e.__esModule?e:{default:e}}!async function(){o.default.render(document.querySelector(".search-bar"),e=>r.default.render(document.querySelector(".photo-grid"),e)),await r.default.render(document.querySelector(".photo-grid")),e.default.render(document.querySelector(".photo-fullview"))}();
},{"./components/photo-fullview":"BHTa","./components/photo-grid":"TN2J","./components/search-bar":"W64G"}]},{},["g2Hq"], null)
//# sourceMappingURL=/scripts.07ffac89.js.map